<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
  <div th:replace="~{layout/base :: nav-bar}"></div>
  <main class="container container--wide">
    <h2>Available Pets</h2>

    <p th:if="${message}" class="alert alert-success" th:text="${message}"></p>
    <p th:if="${error}" class="alert alert-error" th:text="${error}"></p>

    <p th:if="${#lists.isEmpty(pets)}" class="text-muted mt-1">No pets available yet. Check back later!</p>

    <div th:if="${!#lists.isEmpty(pets)}" class="pet-grid mt-1">
      <a th:each="pet : ${pets}" th:href="@{/ui/pet/{id}(id=${pet.id})}" class="pet-card">
        <div class="pet-card-image">
          <img th:if="${pet.imagePath != null}" th:src="@{/uploads/pets/{filename}(filename=${pet.imageFilename})}" alt="Pet photo">
          <img th:if="${pet.imagePath == null}" th:src="@{/images/pet-placeholder.svg}" alt="" class="pet-card-image--placeholder">
        </div>
        <div class="pet-card-body">
          <span class="pet-card-name" th:text="${pet.name}">Pet Name</span>
          <span th:if="${pet.createdAt != null}" class="pet-card-date text-muted" th:text="${#temporals.format(pet.createdAt, 'dd MMM yyyy')}">Date</span>
        </div>
      </a>
    </div>
  </main>
</html>
